<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #main {
            display: grid;
            grid-template-columns: 100px 100px 100px;
            grid-template-rows: 100px 100px 100px;

        }

        #main div {
            border: 1px solid #999999;
            margin: 1px;
        }
    </style>
</head>

<body>
    <div id="main">
        <div class="masu">-</div>
        <div class="masu">-</div>
        <div class="masu">-</div>
        <div class="masu">-</div>
        <div class="masu">-</div>
        <div class="masu">-</div>
        <div class="masu">-</div>
        <div class="masu">-</div>
        <div class="masu">-</div>
        <!-- <div id="masu1">-</div>
        <div id="masu2">-</div>
        <div id="masu3">-</div>
        <div id="masu4">-</div>
        <div id="masu5">-</div>
        <div id="masu6">-</div>
        <div id="masu7">-</div>
        <div id="masu8">-</div>
        <div id="masu9">-</div> -->
    </div>
    <div class="text">テキスト</div><br>
    <button onclick="boxAddress()" type="button">
        htmlCollection の数字割り当て表示</button>
    <button onclick="boxAddress2()" type="button">
        配列 の数字割り当て表示</button>
    <p>
        <button onclick="arrayData()" type="button">
            配列状況</button><br>
    <div id="nowData"></div>
    </p>
    <script>

        const player1 = "〇";
        const player2 = "×";

// 表示foreach用配列
        const getMasu = document.getElementsByClassName("masu");
        var changeMasu = Array.from(getMasu);
        console.log(changeMasu);


        const getMasu2 = document.getElementsByClassName("masu").item(i);
        console.log(getMasu2);

        // 勝敗用配列
        var vsData = changeMasu.concat();
        let len3 = vsData.length;
        for (var i = 0; i < len3; i++) {
            vsData[i] = i;
        }
          // var aaa=[0,1,2,3,4,5,6,7,8];これでいい
        console.log(vsData);

        //htmlCollection の数字割り当て表示
        function boxAddress() {
            var len = getMasu.length;
            for (var i = 0; i < len; i++) {
                getMasu[i].textContent = "htmlC No" + i;
            }
        }

        //配列変換後の数字割り当て表示（上と一緒）
        function boxAddress2() {
            var len2 = changeMasu.length;
            for (var i = 0; i < len2; i++) {
                changeMasu[i].textContent = "配列No " + i;
            }
        }


        // function arrayData(){
        //     var len2 = changeMasu.length;
        //     for(var i=0;i<len2;i++){

        //         changeMasu[i].textContent=i;
        //     }
        // }


        // マルバツ反映
        let turn = 0;
        changeMasu.forEach(function (changeMasu,index) {
            const idx = index;//覚えさせておかないと次の行でforeachのindex情報が消える
            changeMasu.addEventListener("click", function () {
                if (turn % 2 === 0) {

                    //foreachのindexを使ったパターン
                    changeMasu.style.backgroundColor = "red";
                    changeMasu.textContent = player1;
                    console.log(idx);
                    console.log("A" + turn);
                    // var index = [].slice.call( getMasu ).indexOf( changeMasu ) ;
                    // console.log(index)
                    vsData[idx]="A";

                }

                else {
                    
                    //foreachのindexを使わなかったパターン
                    changeMasu.style.backgroundColor = "blue";
                    changeMasu.textContent = player2;
                    console.log("B" + turn);
                    var index = [].slice.call( getMasu ).indexOf( changeMasu ) ;
                    vsData[index]="B";
                }
                turn++;
                console.log(vsData);

                // function endFlag(const plyr){
                //     const p = plyr; 
                //     vsData[1]

var case1=vsData.slice(0,3);console.log(case1);
var case2=vsData.slice(3,6);console.log(case2);
var case3=vsData.slice(6,9);console.log(case3);
var case4=vsdata.concat([0],[4],[7]);
var case5
var case6
var case7
var case8

    

                // }


            })
        })




    </script>

</body>

</html>