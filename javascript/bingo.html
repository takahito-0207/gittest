<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        #main {
            display: grid;
            grid-template-columns: repeat(5, 60px);
            grid-template-rows: repeat(5, 60px);
            gap: 5px;
            grid-auto-flow: column;
        }

        .box {
            border: 1px solid #333;
            text-align: center;
            line-height: 60px;
            border-radius: 50%;
        }

        .box:hover {
            background-color: cornsilk;
        }

        .getBox {
            background-color: coral;
            border-radius: 30%;
            text-align: center;
            line-height: 60px;
        }

        #lotting {
            width: 300px;
            margin: 20px 0 20px 10px;
            text-align: center;
        }

        .lotBtn {
            width: 300px;
            height: 50px;
            font-size: 30px;
        }

        #lotNumGroup {
            display: flex;
            width: 300px;
        }
    </style>

</head>

<body>
    <div id="main">

        <div class="box">0</div>
        <div class="box">1</div>
        <div class="box">2</div>
        <div class="box">3</div>
        <div class="box">4</div>

        <div class="box">5</div>
        <div class="box">6</div>
        <div class="box">7</div>
        <div class="box">8</div>
        <div class="box">9</div>

        <div class="box">10</div>
        <div class="box">11</div>
        <div class="box">12</div>
        <div class="box">13</div>
        <div class="box">14</div>

        <div class="box">15</div>
        <div class="box">16</div>
        <div class="box">17</div>
        <div class="box">18</div>
        <div class="box">19</div>

        <div class="box">20</div>
        <div class="box">21</div>
        <div class="box">22</div>
        <div class="box">23</div>
        <div class="box">24</div>

    </div>

    <div id="lotting">
        <button class="lotBtn" onclick="lot()" type="button">
            抽選</button>
    </div>

    <div id="lotNumGroup">

    </div>


    <script>
        // ビンゴ判定用配列
        // 一致用配列
        let hitBox = new Array(25).fill(0);
        console.log("hitBox" + hitBox);
        let bngCount = 0; // 抽選回数

        // ビンゴの数字割り当て

        let bingoNumAry = new Array(25);
        for (i = 0; i < 25; i++) {
            if (i === 12) {
                bingoNumAry[12] = "Free";
            }
            else if (i < 5) {
                tempNum = Math.floor(Math.random() * (15 + 1 - 0)) + 0;
                if (bingoNumAry.includes(tempNum)) {
                    console.log(i + "回目　---------やり直し" + tempNum)
                    i--;
                } else {
                    bingoNumAry[i] = tempNum;
                    console.log(i + "回目　成功" + i + " <- " + tempNum)
                }
            }
            else if (i >= 5 && i < 10) {
                tempNum = Math.floor(Math.random() * (30 + 1 - 16)) + 16;
                if (bingoNumAry.includes(tempNum)) {
                    console.log(i + "回目　---------やり直し" + tempNum)
                    i--;
                } else {
                    bingoNumAry[i] = tempNum;
                    console.log(i + "回目　成功" + i + " <- " + tempNum)
                }
            }
            else if (i >= 10 && i < 15) {
                tempNum = Math.floor(Math.random() * (45 + 1 - 31)) + 31;
                if (bingoNumAry.includes(tempNum)) {
                    console.log(i + "回目　---------やり直し" + tempNum)
                    i--;
                } else {
                    bingoNumAry[i] = tempNum;
                    console.log(i + "回目　成功" + i + " <- " + tempNum)
                }
            }
            else if (i >= 15 && i < 20) {
                tempNum = Math.floor(Math.random() * (60 + 1 - 46)) + 46;
                if (bingoNumAry.includes(tempNum)) {
                    console.log(i + "回目　---------やり直し" + tempNum)
                    i--;
                } else {
                    bingoNumAry[i] = tempNum;
                    console.log(i + "回目　成功" + i + " <- " + tempNum)
                }
            }
            else if (i >= 20) {
                tempNum = Math.floor(Math.random() * (75 + 1 - 61)) + 61;
                if (bingoNumAry.includes(tempNum)) {
                    console.log(i + "回目　---------やり直し" + tempNum)
                    i--;
                } else {
                    bingoNumAry[i] = tempNum;
                    console.log(i + "回目　成功" + i + " <- " + tempNum)
                }
            }
        }
        console.log("bingoNumAry " + bingoNumAry);

        // 番号表示　
        let boxNum = document.querySelectorAll(".box");
        for (i = 0; i < 25; i++) {
            boxNum[i].textContent = bingoNumAry[i];
        }

        //真ん中を取得状態に
        hitBox[12] = 1;
        boxNum[12].setAttribute("class", "getBox");
        // console.log("hitBox" + hitBox);

        // 抽選 -> 番号を配列に
        // 抽選数用配列
        let lotNum = new Array();


        // 重複番号破棄処理やってない
        function lot() {
            bngCount++;
            console.log(bngCount);
            getNumber = Math.floor(Math.random() * (75 + 1 - 0)) + 0;
            console.log("getNumber" + getNumber)
            lotNum.push(getNumber);
            console.log("lotNum" + lotNum)
            // 抽選数表示

            var lotNG = document.getElementById("lotNumGroup");
            var bngNum = bngCount + "回目：" + getNumber;
            lotNG.textContent = bngNum;

            // function addlot() {
            //     function numList() {
            //         bngCount++;
            //         const newDiv = document.createElement('div');
            //         const getViewNum = document.createTextNode(bngCount + "回目：" + getNumber);
            //         console.log("getViewNum"+getViewNum);

            //         temp = newDiv.appendChild(getViewNum);
            //         console.log("temp"+temp);
            //     }
            //     document.getElementById("lotNumGroup").appendChild(numList);
            // }

            //bingoNumAry lotNum 比べる、一致＝hitboxに1入れて色変える
            for (i = 0; i < 25; i++) {
                if (bingoNumAry[i] === getNumber) {
                    hitBox[i] = 1;
                    console.log("hitBox  " + hitBox)
                    boxNum[i].setAttribute("class", "getBox");
                }
            }
        }

// 勝利判定

//tate
bingoRow1 =[[hitBox0],[hitBox1],[hitBox2],[hitBox3],[hitBox4]];
bingoRow2 =[[hitBox5],[hitBox6],[hitBox7],[hitBox8],[hitBox9]];
bingoRow3 =[[hitBox10],[hitBox11],[hitBox12],[hitBox13],[hitBox14]];
bingoRow4 =[[hitBox15],[hitBox16],[hitBox17],[hitBox18],[hitBox19]];
bingoRow5 =[[hitBox20],[hitBox21],[hitBox22],[hitBox23],[hitBox24]];

bingoCol1 =[[hitBox0],[hitBox5],[hitBox10],[hitBox15],[hitBox20]];
bingoCol2 =[[hitBox1],[hitBox6],[hitBox11],[hitBox16],[hitBox21]];
bingoCol3 =[[hitBox2],[hitBox7],[hitBox12],[hitBox17],[hitBox22]];
bingoCol4 =[[hitBox3],[hitBox8],[hitBox13],[hitBox18],[hitBox23]];
bingoCol5 =[[hitBox4],[hitBox9],[hitBox14],[hitBox19],[hitBox24]];

bingoX1 =[[hitBox0],[hitBox6],[hitBox12],[hitBox18],[hitBox24]];
bingoX2 =[[hitBox4],[hitBox8],[hitBox12],[hitBox16],[hitBox20]];

    </script>




</body>

</html>